package com.recalot.common.configuration;

import com.recalot.common.exceptions.BaseException;
import com.recalot.common.exceptions.MissingArgumentException;

import java.util.HashMap;
import java.util.List;

/**
 * Created by matthaeus.schmedding on 02.04.2015.
 */
public class ConfigurationHandler {

    public static void CheckConfiguration(ConfigurationItem[] conf, HashMap<String, String> map) throws BaseException {
        CheckConfiguration("", conf, map);
    }

    public static void CheckConfiguration(String prefix, ConfigurationItem[] conf, HashMap<String, String> map) throws BaseException {
        for (ConfigurationItem item : conf) {
            if (item.getRequirement() == ConfigurationItem.ConfigurationItemRequirementType.Required && !map.containsKey(prefix + item.getKey())){
                throw new MissingArgumentException("The argument %s is missing.", prefix + item.getKey());
            }
        }
    }
}
